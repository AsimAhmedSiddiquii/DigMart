<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Gallery</title>
    <link href="/vendor/fontawesome/css/fontawesome.min.css" rel="stylesheet" />
    <link href="/vendor/fontawesome/css/solid.min.css" rel="stylesheet" />
    <link href="/vendor/fontawesome/css/brands.min.css" rel="stylesheet" />
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/vendor/Datatables/datatables.min.css" rel="stylesheet" />
    <link href="/css/master.css" rel="stylesheet" />
    <link href="/css/seller/gallery.css" rel="stylesheet" />
  </head>

  <body>
    <div class="wrapper">
      <!-- sidebar navigation component -->
      <%- include('../sidebar') %>
      <!-- end of sidebar component -->
      <div id="body" class="active">
        <!-- navbar navigation component -->
        <%- include("../navbar") %>
        <!-- end of navbar navigation -->
        <div class="content">
          <div class="container">
            <div class="page-title">
              <h3>
                Gallery of <%=sellerData.galleryID%> <%=sellerData.pFname %>
              </h3>
            </div>

            <div class="box box-primary">
              <div class="box-body">
                <table
                  width="100%"
                  class="table table-hover"
                  id="dataTables-example"
                >
                  <thead>
                    <tr>
                      <th>Photos</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <% if(galleryData.length!=0) { var i=0;
                    galleryData.forEach(function(data){ %>
                    <tr>
                      <td>
                        <% for (let a=0; a < data.images.length; a++){ %>
                        <img src="<%=data.images[a]%>" style="width: 25%" />
                        <%}%>
                      </td>

                      <td class="text-end">
                        <button
                          data-bs-toggle="modal"
                          data-bs-target="#exampleModal"
                          class="btn btn-outline-success btn-rounded"
                        >
                          View Gallery <i class="fas fa-eye"></i>
                        </button>

                        <!--Gallery Modal-->
                        <div
                          class="modal fade"
                          id="exampleModal"
                          tabindex="-1"
                          aria-labelledby="exampleModalLabel"
                          aria-hidden="true"
                        >
                          <div
                            class="modal-dialog modal-fullscreen modal-dialog-centered"
                          >
                            <div class="modal-body">
                              <div class="gallery">
                                <figure class="gallery__item gallery__item--1">
                                  <img
                                    src="<%=data.images[0]%>"
                                    alt="Gallery image 1"
                                    class="gallery__img"
                                  />
                                </figure>
                                <figure class="gallery__item gallery__item--2">
                                  <img
                                    src="<%=data.images[1]%>"
                                    alt="Gallery image 2"
                                    class="gallery__img"
                                  />
                                </figure>
                                <figure class="gallery__item gallery__item--3">
                                  <img
                                    src="<%=data.images[2]%>"
                                    alt="Gallery image 3"
                                    class="gallery__img"
                                  />
                                </figure>
                                <figure class="gallery__item gallery__item--4">
                                  <img
                                    src="<%=data.images[3]%>"
                                    alt="Gallery image 4"
                                    class="gallery__img"
                                  />
                                </figure>
                              </div>
                            </div>
                            <div class="modal-footer">
                              <button
                                type="button"
                                class="btn btn-info"
                                data-bs-dismiss="modal"
                              >
                                Close
                              </button>
                            </div>
                            <!-- <div class="modal-content">
                                                                
                                                                
                                                              </div> -->
                          </div>
                        </div>
                        <!--Modal Ends-->

                        <a
                          href="/seller/gallery/edit-gallery/<%=sellerData._id%>/<%=data._id%>"
                          class="btn btn-outline-info btn-rounded"
                          ><i class="fas fa-pen"></i
                        ></a>

                        <a
                          href="/seller/gallery/delete-gallery/<%=sellerData._id%>/<%=data._id %>"
                          class="btn btn-outline-danger btn-rounded"
                          ><i class="fas fa-trash"></i
                        ></a>
                      </td>
                    </tr>

                    <% i++; }) %> <% } else{ %>
                    <tr>
                      <td colspan="12" class="fs-1">
                        <img src="/img/nothing.png" width="50%" />
                        No Image Found
                      </td>
                      <a
                        href="/seller/gallery/add-gallery/<%=id%>"
                        class="btn btn-sm btn-outline-primary float-end"
                        ><i class="fas fa-plus-circle"></i> Add</a
                      >
                    </tr>
                    <% } %>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->

    <script>
      const toastTrigger = document.getElementById("staticBackdrop");
      const toastLiveExample = document.getElementById("liveToast");
      if (toastTrigger) {
        toastTrigger.addEventListener("click", () => {
          const toast = new bootstrap.Toast(toastLiveExample);

          toast.show();
        });
      }
    </script>
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/vendor/datatables/datatables.min.js"></script>
    <script src="/js/initiate-datatables.js"></script>
    <script src="/js/script.js"></script>
  </body>
</html>
